<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Sean's Blog</title>
  <meta name="description"
    content="The blog of Sean Pedersen - Exploring and building Machine Learning, Data Privacy, Cybernetics and Memetics.">
  <meta property="og:image" content="https://seanpedersen.github.io/images/sierpinski-twitter-square.png">
  <meta name="og:title" content="Sean's Blog">
  <meta property="og:description"
    content="The blog of Sean Pedersen - Exploring and building Machine Learning, Data Privacy, Cybernetics and Memetics.">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:image" content="https://seanpedersen.github.io/images/sierpinski-twitter-square.png">
  <link rel="icon" type="image/svg+xml" href="/favicon.svg">
  <link rel="alternate" type="application/rss+xml" href="/rss.xml" title="RSS Feed">
  {{ inline_css(path="/styles/global.css") | safe }}
  {{ inline_css(path="/styles/index.css") | safe }}
  <script>
    (function () {
      const initialColorScheme = ""; // "light" | "dark"
      const currentTheme = localStorage.getItem("theme");

      function getPreferTheme() {
        if (currentTheme) return currentTheme;
        if (initialColorScheme) return initialColorScheme;
        return window.matchMedia("(prefers-color-scheme: dark)").matches
          ? "dark"
          : "light";
      }

      const themeValue = getPreferTheme();

      // Set theme immediately to prevent flash
      document.firstElementChild?.setAttribute("data-theme", themeValue);

      // Export minimal API for external script
      window.theme = {
        themeValue: themeValue,
        getTheme: () => window.theme.themeValue,
        setTheme: val => {
          window.theme.themeValue = val;
        },
      };
    })();
  </script>
</head>

<body>
  <div class="flexer">
    <div class="container">
      <header class="header">
        <div class="headerContainer">
          <div class="speechBubble">
            Building <a href="https://solo.digger.lol/" target="_blank" rel="noopener noreferrer">Digger Solo</a>
          </div>
          <div class="profileContainer">
            <img src="/images/profile.webp" class="headerHomeImage borderCircle" alt="Sean Pedersen" decoding="async"
              fetchpriority="high" />
            <div style="display: flex; flex-direction: column; align-items: flex-start;">
              <h1 class="heading2Xl nameBreak">
                <span>Sean<br>Pedersen</span>
              </h1>
              <div class="linkRow">
                <a href="/rss.xml" class="iconLink" aria-label="RSS" title="RSS Feed">
                  <svg width="24" height="24" view-box="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"
                    stroke-linecap="round" stroke-linejoin="round">
                    <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                    <path d="M5 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"></path>
                    <path d="M4 4a16 16 0 0 1 16 16"></path>
                    <path d="M4 11a9 9 0 0 1 9 9"></path>
                  </svg>
                </a>
                <div class="socialLinks">
                  <a href="https://github.com/SeanPedersen" class="iconLink" aria-label="GitHub" title="GitHub"
                    target="_blank" rel="noreferrer noopener">
                    <svg width="24" height="24" view-box="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                      stroke-linecap="round" stroke-linejoin="round">
                      <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                      <path
                        d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5">
                      </path>
                    </svg>
                  </a>
                  <a href="https://x.com/SeanPedersen96" class="iconLink" aria-label="X (Twitter)" title="X (Twitter)"
                    target="_blank" rel="noreferrer noopener">
                    <svg width="24" height="24" view-box="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                      stroke-linecap="round" stroke-linejoin="round">
                      <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                      <path d="M4 4l11.733 16h4.267l-11.733 -16z"></path>
                      <path d="M4 20l6.768 -6.768m2.46 -2.46l6.772 -6.772"></path>
                    </svg>
                  </a>
                </div>
              </div>
            </div>
          </div>
        </div>
      </header>
      <main class="main homePage">
        <section class="headingMd">
          <p>Machine Learning / Data Privacy / Cybernetics / Memetics</p>
        </section>
        <section class="headingMd padding1px">
          <div class="searchTagsWrapper" id="searchTagsWrapper">
            <div id="searchContainer"></div>
            <div class="tagsContainer" id="tagsContainer">
              <span class="tag tagSelected" data-tag="">All</span>
              {% for tag in tags %}
              <span class="tag" data-tag="{{ tag }}">{{ tag }}</span>
              {% endfor %}
            </div>
          </div>
          <ul class="list" id="postList">
            {% for post in posts %}
            <li class="listItem" data-tags="{{ post.tags_json }}">
              <a href="/posts/{{ post.id }}" class="postTitleLink">
                {% if post.icon %}
                <img src="{{ post.icon }}" alt="" class="postIcon" aria-hidden="true" loading="lazy">
                {% endif %}
                <span class="postTitleText">{{ post.title }}</span>
              </a>
              {% if post.tags %}
              <small class="lightText post-tags-container">
                •<span class="postTags">
                  {%- for tag in post.tags -%}
                  <span><a href="#{{ tag }}" onclick="return false;">{{ tag }}</a>{% if not loop.last %}, {% endif
                    %}</span>
                  {%- endfor -%}
                </span>
              </small>
              {% endif %}
            </li>
            {% endfor %}
          </ul>
        </section>
      </main>
    </div>
    <footer class="footer">
      <p><a href="https://github.com/SeanPedersen/seanpedersen.github.io">Copy©at</a> ᓚᘏᗢ {{ year }} | All lights served
        .:.</p>
    </footer>
    <button id="themeToggle" class="themeToggleButton" aria-label="Toggle theme" title="Toggle theme">
      <svg id="themeIcon" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
        stroke-linecap="round" stroke-linejoin="round">
        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z" />
      </svg>
    </button>
  </div>
     <script>
       (function () {
         'use strict';
         function updateIcon(theme) {
           var icon = document.getElementById('themeIcon');
           if (!icon) return;
           icon.innerHTML = theme === 'dark'
             ? '<circle cx="12" cy="12" r="4"/><path d="M12 1v4M12 19v4M4.22 4.22l2.83 2.83M16.95 16.95l2.83 2.83M1 12h4M19 12h4M4.22 19.78l2.83-2.83M16.95 7.05l2.83-2.83"/>'
             : '<path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>';
           icon.setAttribute('title', 'Switch to ' + (theme === 'dark' ? 'light' : 'dark') + ' mode');
         }
         function toggle() {
           var currentTheme = window.theme.getTheme();
           var newTheme = currentTheme === 'light' ? 'dark' : 'light';
           document.documentElement.setAttribute('data-theme', newTheme);
           localStorage.setItem('theme', newTheme);
           window.theme.setTheme(newTheme);
           updateIcon(newTheme);
         }
         function init() {
           updateIcon(window.theme.getTheme());
           var btn = document.getElementById('themeToggle');
           if (btn) {
             btn.addEventListener('click', toggle);
             window.addEventListener('scroll', function () {
               btn.classList.toggle('isHidden', window.scrollY > 10);
             });
             btn.classList.toggle('isHidden', window.scrollY > 10);
           }
         }
         if (document.readyState === 'loading') {
           document.addEventListener('DOMContentLoaded', init);
         } else {
           init();
         }
       })();
     </script>
  <script>
    (function () {
      let searchScriptLoaded = false;
      let searchInitialized = false;

      function initInlineSearch() {
        const container = document.getElementById('searchContainerEl');
        const wrapper = document.getElementById('searchTagsWrapper');
        if (!container || !wrapper || searchInitialized) return;

        searchInitialized = true;

        container.classList.remove('collapsed');
        container.classList.add('expanded');
        container.innerHTML = `
          <div class="searchInputWrapper" style="--wrapper-width: ${wrapper.offsetWidth}px">
            <svg class="searchIcon" width="1em" height="1em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
              <circle cx="11" cy="11" r="6" />
              <line x1="19.59" y1="19.59" x2="15.24" y2="15.24" />
            </svg>
            <input id="searchInput" type="text" class="searchInput" placeholder="Search posts..." />
            <button class="clearButton" id="clearSearchBtn" aria-label="Clear search" style="display: none;">×</button>
          </div>
        `;

        wrapper.classList.add('searchExpanded');
        const tagsContainer = document.getElementById('tagsContainer');
        if (tagsContainer) tagsContainer.classList.add('tagsHidden');

        const input = document.getElementById('searchInput');
        const clearBtn = document.getElementById('clearSearchBtn');

        if (input) {
          input.focus();
          requestAnimationFrame(() => input.focus());

          input.addEventListener('input', function (e) {
            const query = e.target.value;
            const lowerQuery = query.toLowerCase();
            if (clearBtn) clearBtn.style.display = query ? 'flex' : 'none';

            const postList = document.getElementById('postList');
            if (!postList) return;

            Array.from(postList.children).forEach(post => {
              const link = post.querySelector('a');
              if (!link) return;

              const titleEl = link.querySelector('.postTitleText');
              const title = titleEl ? titleEl.textContent || '' : link.textContent || '';
              const tagsAttr = post.getAttribute('data-tags');
              const tags = tagsAttr ? JSON.parse(tagsAttr) : [];

              const titleMatches = title.toLowerCase().includes(lowerQuery);
              const tagMatches = tags.some(tag => tag.toLowerCase().includes(lowerQuery));

              if (!query || titleMatches || tagMatches) {
                post.style.display = '';

                if (query && titleMatches) {
                  const index = title.toLowerCase().indexOf(lowerQuery);
                  const before = title.slice(0, index);
                  const match = title.slice(index, index + query.length);
                  const after = title.slice(index + query.length);

                  const escapeHtml = (text) => {
                    const div = document.createElement('div');
                    div.textContent = text;
                    return div.innerHTML;
                  };

                  const highlighted = `${escapeHtml(before)}<mark style="background-color: var(--primary-color); color: var(--color-background); padding: 2px 4px; border-radius: 3px;">${escapeHtml(match)}</mark>${escapeHtml(after)}`;
                  if (titleEl) {
                    titleEl.innerHTML = highlighted;
                  } else {
                    link.innerHTML = highlighted;
                  }
                } else {
                  if (titleEl) {
                    titleEl.textContent = title;
                  } else {
                    link.textContent = title;
                  }
                }
              } else {
                post.style.display = 'none';
              }
            });
          });

          if (clearBtn) {
            clearBtn.addEventListener('mousedown', function (e) {
              e.preventDefault();
              input.value = '';
              clearBtn.style.display = 'none';
              const postList = document.getElementById('postList');
              if (postList) {
                Array.from(postList.children).forEach(post => post.style.display = '');
              }
              setTimeout(() => input.focus(), 0);
            });
          }

          if (!searchScriptLoaded) {
            searchScriptLoaded = true;
            window.__searchInputValue = input.value || '';
            const script = document.createElement('script');
            script.src = '/js/search.js';
            document.head.appendChild(script);
          }
        }
      }

      function setupSearchButton() {
        const container = document.getElementById('searchContainer');
        if (!container) return;

        container.innerHTML = `
          <div class="searchContainer collapsed" id="searchContainerEl">
            <button class="searchIconButton" id="searchIconBtn" aria-label="Open search">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <circle cx="11" cy="11" r="6" />
                <line x1="19.59" y1="19.59" x2="15.24" y2="15.24" />
              </svg>
            </button>
          </div>
        `;

        document.getElementById('searchIconBtn').addEventListener('click', function (e) {
          e.preventDefault();
          initInlineSearch();
        });
      }

      if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', setupSearchButton);
      } else {
        setupSearchButton();
      }
    })();
  </script>
  <script src="/js/tags.js" defer></script>
  <script src="/js/prefetch.js" defer></script>
  <script>
    (function () {
      if (typeof window === 'undefined') return;

      var script = document.createElement('script');
      script.src = '/js/posthog-lite.js';
      script.onload = function () {
        if (window.PostHogLite) {
          window.posthog = new window.PostHogLite('phc_9XPlyPALuefIMAMSfsvBk4jVuSelJyjl7xwhXigkHAP', {
            host: 'https://us.i.posthog.com',
            person_profiles: 'identified_only',
            capturePageview: true
          });
        }
      };
      document.head.appendChild(script);
    })();
  </script>
<!-- Chatbot Widget -->
<script>
(function() {
  var script = document.createElement('script');
  script.src = 'http://localhost:8000/api/embed/chatbot.js';
  script.async = true;
script.dataset.websiteId = 'b9689a42-7ff6-48ae-ae4a-68e37b535a50';  
script.dataset.apiUrl = 'http://localhost:8000';
  script.dataset.position = 'bottom-right';
  script.dataset.title = 'Chat McBotface';
  script.dataset.color = '#0e0e58';
  document.head.appendChild(script);
})();
</script>
</body>

</html>
